{% extends "template.html" %}

{% block body %}
<script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/scroller/1.4.3/js/dataTables.scroller.min.js "></script>
['animal_id','animal_type','sex','breed','DOB','years_old','months_old','intake_total','intake_type','intake_subtype','intake_date','intake_time','intake_condition','intake_jurisdiction','crossing','outcome_type','outcome_subtype','outcome_date','outcome_time','outcome_condition']
<script type="text/javascript">
  $(document).ready(function() {
    var data = [];
    {% for row in rows %}
        data.push([
          unescape('<a target="_blank" href="/star/{{ row['Animal'] }}"><b>{{ row['Animal'] }}</b></a>'),
          "{{ row['HD'] }}",
          "{{ row['RA'] }}",
          "{{ row['dec'] }}",
          parseFloat("{{ row['animal_id'] }}"),
          parseFloat("{{ row['animal_type'] }}"),
          parseFloat("{{ row['sex'] }}"),
          parseFloat("{{ row['breed'] }}"),
          "{{ row['flag'] }}",
          "{{ row['updated'] }}",
          "{{ row['Comment'] }}"]);
    {% endfor %}

    $('#sc-table').DataTable({
      data: data,
      deferRender: true,
      scrollX: true,
      scrollY: 500,
      scrollCollapse: true,
      scroller: true,
      order: [[ 23, "desc" ]]
    });
  });
</script>


  <h1>SWEETer-Cat</h1>

  <p>Bringing <a href="https://www.astro.up.pt/resources/sweet-cat/">SWEET-Cat</a> to new sweets!</p>

  <p>A detailed description of each field can be found <a href="{{ url_for('static', filename='table.pdf') }}">here</a>,
  or by hovering your mouse over each column name.</p>

  <p>Downdload the table in the following formats:
  <a class="btn btn-info" href="download/sweet-cat.tsv">TSV</a>
  <a class="btn btn-info" href="download/sweet-cat.csv">CSV</a>
  <a class="btn btn-info" href="download/sweet-cat.hdf">HDF</a>
  </p>

  <hr>
  <table id="sc-table" class="table table-hover table-responsive">
    <thead>
      <tr>
        <th>Star</th>
        <th><label title="HD number">HD</label></th>
        <th><label title="Right ascension">RA</label></th>
        <th><label title="Declination">dec</label></th>
        <th><label title="animal_id">animal_id</label></th>
        <th><label title="animal_type">animal_type</label></th>
        <th><label title="breed">breed</label></th>
        <th><label title="Flag to mark homogeneous derived parameters">Flag</label></th>
        <th><label title="Last updated">Updated</label></th>
        <th><label title="Special comments">Comment</label></th>
      </tr>
    </thead>
  </table>

{% endblock %}
